(this["webpackJsonpmarvel-react-app"]=this["webpackJsonpmarvel-react-app"]||[]).push([[0],{66:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(16),s=c.n(r),i=c(7),l=c(2),o=c(11),d=c(4),j=c(9),b=c.n(j),u=c(20),h=c(21),m=c.n(h),O="GET_CHARACTERS",v="GET_BY_NAME",p="GET_DETAIL",f="ADD_FAVORITE",x="REMOVE_FAVORITE",g="LOADING",y="gateway.marvel.com:443/v1/public/characters";function N(){return function(){var e=Object(u.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,m.a.get("https://".concat(y,"?ts=1&apikey=").concat("fefdc47db4bc9791134225bea5d66311","&hash=").concat("7c2c51474eb597df7725e0850fb4f254","&limit=100"));case 4:return c=e.sent,e.abrupt("return",t({type:O,payload:c.data.data.results.map((function(e){return{id:e.id,name:e.name,thumbnail:e.thumbnail,comics:e.comics.items}}))}));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}c(66);var k=c(1);var C=function(){var e=Object(d.c)();return Object(k.jsx)("div",{children:Object(k.jsx)("nav",{className:"navbar navbar-expand-lg bg-dark style",children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(i.b,{to:"/",children:Object(k.jsx)("img",{src:"/marvel/images/logo-marvel.png",height:"50px",alt:"logo-marvel",onClick:function(){e(N())}})}),Object(k.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{children:Object(k.jsx)("i",{className:"fa fa-bars"})})}),Object(k.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:[Object(k.jsx)("ul",{className:"navbar-nav mx-auto",children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(i.b,{to:"/favoriteCharacters",children:"My favorite Characters"})})}),Object(k.jsx)("form",{className:"d-flex",children:Object(k.jsx)("div",{className:"input-group",children:Object(k.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Character name...",onChange:function(t){var c;e((c=t.target.value,function(){var e=Object(u.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://".concat(y,"?apikey=").concat("fefdc47db4bc9791134225bea5d66311","&hash=").concat("7c2c51474eb597df7725e0850fb4f254","&nameStartsWith=").concat(c,"&ts=1"));case 3:return a=e.sent,console.log(a),console.log(a.config),e.abrupt("return",t({type:v,payload:a.data.data.results}));case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}})})})]})]})})})};c(72);function w(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)(C,{}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"row",children:e.length>0?null===e||void 0===e?void 0:e.map((function(e){return Object(k.jsx)("div",{className:"col grid",children:Object(k.jsxs)("div",{className:"cuadrado",children:[Object(k.jsx)("p",{children:e.name}),Object(k.jsx)(i.b,{to:"/character/"+e.id,children:Object(k.jsx)("img",{alt:"superhero",src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension)})})]})},e.id)})):Object(k.jsx)("h2",{children:"loading..."})})})]})}var E=function(){var e=Object(d.c)(),t=Object(d.d)((function(e){return e.characters})),c=Object(a.useState)(1),n=Object(o.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(6),l=Object(o.a)(i,2),j=l[0],b=(l[1],Object(a.useState)(5)),u=Object(o.a)(b,2),h=u[0],m=(u[1],Object(a.useState)(5)),O=Object(o.a)(m,2),v=O[0],p=O[1],f=Object(a.useState)(0),x=Object(o.a)(f,2),g=x[0],y=x[1];Object(a.useEffect)((function(){e(N())}),[e]);for(var C=function(e){s(Number(e.target.id))},E=[],T=1;T<=Math.ceil(t.length/j);T++)E.push(T);var A=r*j,S=A-j,D=t.slice(S,A),M=E.map((function(e){return e<v+1&&e>g?Object(k.jsx)("li",{id:e,onClick:C,className:r===e?"active":null,children:e},e):null})),B=null;E.length>v&&(B=Object(k.jsx)("li",{onClick:function(){s(r+1),r+1>v&&(p(v+h),y(g+h))},children:" \u2026 "}));var F=null;return g>=1&&(F=Object(k.jsx)("li",{onClick:function(){s(r-1),(r-1)%h===0&&(p(v-h),y(g-h))},children:" \u2026 "})),Object(k.jsxs)("div",{children:[w(D),Object(k.jsx)("div",{className:"pagination",children:Object(k.jsxs)("ul",{children:[F,M,B]})})]})};c(73);var T=Object(d.b)(null,(function(e){return{addFavorite:function(t){return e({type:f,payload:t})}}}))((function(e){var t=Object(d.c)(),c=Object(d.d)((function(e){return e.detail})),n=Object(d.d)((function(e){return e.loading}));return Object(a.useEffect)((function(){var c;t((c=e.match.params.id,function(){var e=Object(u.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,m.a.get("https://".concat(y,"/").concat(c,"?apikey=").concat("fefdc47db4bc9791134225bea5d66311","&hash=").concat("7c2c51474eb597df7725e0850fb4f254","&ts=1"));case 4:return a=e.sent,e.abrupt("return",t({type:p,payload:a.data.data.results.map((function(e){return{id:e.id,name:e.name,thumbnail:e.thumbnail,comics:e.comics.items.map((function(e){return e.name}))}}))}));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(k.jsx)("div",{children:n?Object(k.jsx)("h2",{children:"loading..."}):c.length>0?Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"card",children:Object(k.jsxs)("div",{className:"row align-items-center",children:[Object(k.jsxs)("div",{className:"col-md-4",children:[Object(k.jsx)("h1",{children:c[0].name}),Object(k.jsx)("img",{src:"".concat(c[0].thumbnail.path,".").concat(c[0].thumbnail.extension),alt:"superhero"})]}),Object(k.jsxs)("div",{className:"col-md-8",children:[Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h4",{children:"Comics"}),Object(k.jsx)("hr",{}),Object(k.jsx)("p",{children:c[0].comics.length>0?c[0].comics:Object(k.jsx)("p",{children:"Comics not found"})})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(i.b,{to:"/",className:"back",children:"Back"}),Object(k.jsx)("button",{onClick:function(){return e.addFavorite({name:c[0].name,id:c[0].id},alert("Add favorite"))},type:"button",children:"Add favorite"})]})]})]})})}):Object(k.jsx)("h2",{children:"Character not found"})})})),A=c(19);c(74);var S=Object(d.b)(null,(function(e){return{removeFavorite:function(t){return e({type:x,payload:t})}}}))((function(e){var t=Object(d.d)((function(e){return e.favorites})),c=Object(A.a)(new Set(t.map((function(e){return e.name}))));return Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"contenedor",children:[Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:"My favorite characters"})}),c.length>0?c.map((function(t){return Object(k.jsx)("div",{className:"cajitaComics",children:Object(k.jsx)("ul",{className:"list-group list-group-flush",children:Object(k.jsx)("li",{className:"list-group-item",children:Object(k.jsxs)("div",{className:"comics",children:[t,Object(k.jsx)("div",{className:"d-md-flex comicButton",children:Object(k.jsx)("button",{onClick:function(){return e.removeFavorite(t)},type:"button",children:"X"})})]})})})})})):Object(k.jsx)("p",{children:"there is nothing yet"}),Object(k.jsx)("div",{className:"divLink",children:Object(k.jsx)(i.b,{to:"/",className:"linkBack",children:"Back"})})]})})}));c(75);var D=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)(i.a,{basename:"/marvel",children:[Object(k.jsx)(l.a,{exact:!0,path:"/",component:E}),Object(k.jsx)(l.a,{exact:!0,path:"/character/:id",component:T}),Object(k.jsx)(l.a,{exact:!0,path:"/favoriteCharacters",component:S})]})})},M=c(18),B=c(36),F=c(3),_={characters:[],detail:[],favorites:[],loading:!1};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case v:return Object(F.a)(Object(F.a)({},e),{},{characters:t.payload});case p:return Object(F.a)(Object(F.a)({},e),{},{detail:t.payload,loading:!1});case f:return Object(F.a)(Object(F.a)({},e),{},{favorites:[].concat(Object(A.a)(e.favorites),[t.payload])});case x:return Object(F.a)(Object(F.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.name!==t.payload}))});case g:return Object(F.a)(Object(F.a)({},e),{},{loading:!0});default:return e}},R=c(37),G=Object(M.createStore)(I,Object(B.composeWithDevTools)(Object(M.applyMiddleware)(R.a)));c(76);s.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(d.a,{store:G,children:Object(k.jsx)(i.a,{basename:"/marvel",children:Object(k.jsx)(D,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.7c19ddf4.chunk.js.map